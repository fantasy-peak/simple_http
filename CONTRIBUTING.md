# Contributing Guide

## Running Examples in ./test

### Server

```sh
# in one shell
xmake run server
```

```sh
# in another
curl https://0.0.0.0:7788/hello --insecure
```

Certificates in `./test/tls_certificates` were generated by running:

```sh
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -sha256 -days 10000 -nodes -subj "/C=SE/CN=RootAcmeCorp"
```

## Editor Setup

### Generating `compile_commands.json`

These should be generated automatically when running `xmake build`. It's also possible to generate directly by running:

```sh
xmake project -k compile_commands --lsp=clangd build
```

This should create a `./build/compile_commands.json` file.

### Vscode

Developers using `vscode` need to tell their editor where to find the `compile_commands.json`.
Do this by editing `.vscode/c_cpp_properties.json`:

```diff
{
  "configurations": [
    {
      ...
+++   "compileCommands": ["${workspaceFolder}/build/compile_commands.json"]
    }
  ],
  ...
}
